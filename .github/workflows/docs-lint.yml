name: Docs Lint

on:
  push:
    paths:
      - '**/*.md'
      - '.vale.ini'
      - '.github/workflows/docs-lint.yml'
      - '.vale/**'
  pull_request:
    paths:
      - '**/*.md'
      - '.vale.ini'
      - '.github/workflows/docs-lint.yml'
      - '.vale/**'

jobs:
  vale:
    runs-on: macos-13
    steps:
      - uses: actions/checkout@v4
      - name: Install Vale
        run: |
          brew install vale
      - name: Sync Vale styles
        run: |
          vale sync
      - name: Run Vale
        run: |
          vale README.md Sources/SkillsCore/SkillsCore.docc/*.md docs/**/*.md
